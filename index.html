<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Foodie Zone - Premium Food & Events</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/common.css">
  <style>
    body {
      font-family: 'Outfit', sans-serif;
    }

    .hero-bg {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)), url('https://images.unsplash.com/photo-1555396273-367ea4eb4db5?q=80&w=1600');
      background-size: cover;
      background-position: center;
    }

    /* Dark Mode Overrides */
    body.dark-mode {
      background-color: #111827;
      color: #f3f4f6;
    }

    body.dark-mode .bg-white {
      background-color: #1f2937;
      color: #e5e7eb;
    }

    body.dark-mode .text-gray-800,
    body.dark-mode .text-gray-900 {
      color: #f3f4f6;
    }

    body.dark-mode .text-gray-500,
    body.dark-mode .text-gray-600 {
      color: #9ca3af;
    }

    body.dark-mode .navbar,
    body.dark-mode .footer {
      background-color: #0f172a;
      color: #cbd5e1;
    }

    body.dark-mode .shadow-lg,
    body.dark-mode .shadow-sm {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>

<body class="bg-gray-900 text-gray-100">

  <!-- Navbar -->
  <header class="navbar">
    <div class="nav-container">
      <div class="logo">Foodie Zone</div>

      <nav class="nav-links" id="navLinks">
        <a href="index.html" class="active">Home</a>
        <a href="about.html">About</a>
        <a href="order.html">Order</a>
        <a href="halls.html">Party Halls</a>
        <a href="review.html">Reviews</a>
        <a href="partner.html">Partner with Us</a>
        <a href="careers.html">Job Careers</a>
        <a href="login.html" class="nav-login">Login</a>

        <!-- Toggle Theme -->


        <a href="profile.html" id="navProfile"
          class="hidden items-center justify-center w-10 h-10 rounded-full border border-white/30 bg-white/10 text-white hover:bg-white/20 hover:scale-105 transition-all shadow-lg backdrop-blur-sm group">
          <span id="navUserInitial" class="font-bold text-base"></span>
          <i id="navUserIcon" class="fa-solid fa-user text-sm group-hover:rotate-12 transition-transform"></i>
        </a>
      </nav>
      <div class="menu-icon" onclick="toggleMenu()">☰</div>
    </div>
  </header>

  <script>
    const user = JSON.parse(localStorage.getItem('currentUser'));
    if (user) {
      const profileBtn = document.getElementById('navProfile');
      profileBtn.classList.remove('hidden');
      profileBtn.style.display = 'flex';
      document.querySelector('.nav-login').style.display = 'none';

      if (user.username) {
        const initial = user.username.charAt(0).toUpperCase();
        document.getElementById('navUserInitial').innerText = initial;
        document.getElementById('navUserIcon').classList.add('hidden');

        // Premium color mapping
        const colors = ['bg-orange-500', 'bg-emerald-500', 'bg-blue-500', 'bg-rose-500', 'bg-amber-500', 'bg-indigo-500'];
        const colorIndex = initial.charCodeAt(0) % colors.length;
        profileBtn.classList.remove('bg-white/10');
        profileBtn.classList.add(colors[colorIndex]);
      }
    }
  </script>

  <!-- Hero Section -->
  <section class="relative h-[600px] flex items-center justify-center text-center text-white overflow-hidden">
    <!-- Parallax Background -->
    <div class="absolute inset-0 z-0">
      <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1920"
        class="w-full h-full object-cover brightness-50" alt="Food Background">
    </div>

    <!-- Content -->
    <div class="relative z-10 px-4 max-w-4xl mx-auto animate-fade-in-up">
      <span
        class="bg-emerald-600/80 text-emerald-50 px-4 py-1 rounded-full text-sm font-semibold tracking-wide mb-6 inline-block backdrop-blur-sm border border-emerald-500/50">
        #1 Food & Event Service in Tamil Nadu
      </span>

      <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight drop-shadow-xl">
        Taste the <span class="text-emerald-400">Tradition</span>
      </h1>

      <p class="text-lg md:text-2xl mb-10 text-gray-200 font-light max-w-2xl mx-auto">
        From homely hostel mess plans to grand wedding feasts—we deliver happiness.
      </p>

      <!-- Glass Search Bar -->
      <!-- Swiggy-Inspired Search System -->
      <div class="w-full max-w-4xl mx-auto z-50 relative text-left">

        <div
          class="flex flex-col md:flex-row bg-white !bg-white !text-gray-800 rounded-2xl shadow-2xl overflow-visible transition-all duration-300 hover:shadow-green-500/20 ring-1 ring-black/5">

          <!-- Location Input -->
          <div class="relative flex-1 group border-b md:border-b-0 md:border-r border-gray-200">
            <div id="locationBox"
              class="flex items-center p-4 cursor-pointer hover:bg-gray-50 transition-colors rounded-t-2xl md:rounded-l-2xl">
              <i
                class="fa-solid fa-location-dot text-emerald-500 text-xl mx-2 transform group-hover:scale-110 transition-transform"></i>
              <div class="flex-1 ml-3">
                <input type="text" id="locationInput"
                  class="w-full font-bold text-gray-700 !text-gray-700 outline-none bg-transparent placeholder-gray-500 !placeholder-gray-500 text-lg cursor-pointer truncate"
                  placeholder="Enter your delivery location" value="" autocomplete="off" readonly>
              </div>
              <i id="locationArrow"
                class="fa-solid fa-chevron-down text-emerald-500 text-sm mx-2 transition-transform duration-300"></i>
            </div>

            <!-- Dropdown Menu -->
            <div id="locationDropdown"
              class="absolute top-[110%] left-0 w-full bg-white rounded-xl shadow-xl p-1 hidden animate-fade-in z-50 border border-gray-100 ring-1 ring-black/5 origin-top">
              <!-- Locate Me -->
              <div onclick="detectLocation()"
                class="flex items-start gap-4 p-4 hover:bg-gray-50 rounded-lg cursor-pointer transition-all group/item mb-1">
                <i class="fa-solid fa-location-crosshairs text-emerald-500 text-xl mt-1"></i>
                <div>
                  <h4 class="font-bold text-gray-700 group-hover/item:text-emerald-500 transition-colors">Use my current
                    location</h4>
                  <p class="text-xs text-gray-500 mt-0.5 font-medium">Using GPS</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Search Area -->
          <div class="flex-[1.5] flex items-center p-2 relative">
            <div class="flex-1 flex items-center px-4">
              <i class="fa-solid fa-magnifying-glass text-gray-400 text-lg mr-3"></i>
              <input type="text"
                class="w-full font-medium text-gray-700 !text-gray-700 outline-none placeholder-gray-400 !placeholder-gray-400 text-lg"
                placeholder="Search for restaurant, item or more">
            </div>
            <button id="searchBtnDesktop" onclick="findServices()"
              class="hidden md:block bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-green-600 hover:to-green-700 text-white px-8 py-3 rounded-xl font-bold text-base shadow-lg hover:shadow-emerald-500/30 transition-all transform active:scale-95">
              Search
            </button>
          </div>
          <button id="searchBtnMobile" onclick="findServices()"
            class="md:hidden bg-emerald-600 text-white py-4 font-bold text-lg uppercase shadow-inner">
            Search Food
          </button>
        </div>
      </div>

      <!-- Quick Stats -->
      <div class="mt-12 grid grid-cols-3 gap-4 md:gap-8 max-w-2xl mx-auto">
        <div class="text-center">
          <p class="text-2xl md:text-3xl font-bold text-emerald-400">10k+</p>
          <p class="text-[10px] md:text-xs text-gray-300 uppercase tracking-widest">Happy Eaters</p>
        </div>
        <div class="text-center border-x border-white/20">
          <p class="text-2xl md:text-3xl font-bold text-emerald-400">50+</p>
          <p class="text-[10px] md:text-xs text-gray-300 uppercase tracking-widest">Partner Halls</p>
        </div>
        <div class="text-center">
          <p class="text-2xl md:text-3xl font-bold text-emerald-400">4.8</p>
          <p class="text-[10px] md:text-xs text-gray-300 uppercase tracking-widest">User Rating</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features / Why Us -->
  <section class="py-16 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-gray-400 font-semibold tracking-widest uppercase text-sm mb-2">Why Foodie Zone?</h2>

        <h3 class="text-4xl font-bold text-gray-900">More than just food delivery</h3>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
        <!-- Feature 1 -->
        <div class="flex flex-col items-center text-center p-6 transition hover:-translate-y-2 duration-300">
          <div
            class="w-16 h-16 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center text-3xl mb-6 shadow-sm rotate-3">
            <i class="fa-solid fa-leaf"></i>
          </div>
          <h4 class="text-xl font-bold text-gray-800 mb-3">Hygenic & Fresh</h4>
          <p class="text-gray-500 leading-relaxed">Safety first. Our partners follow strict hygiene protocols to ensure
            every bite is safe.</p>
        </div>
        <!-- Feature 2 -->
        <div class="flex flex-col items-center text-center p-6 transition hover:-translate-y-2 duration-300">
          <div
            class="w-16 h-16 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center text-3xl mb-6 shadow-sm -rotate-2">
            <i class="fa-solid fa-clock"></i>
          </div>
          <h4 class="text-xl font-bold text-gray-800 mb-3">On-Time Delivery</h4>
          <p class="text-gray-500 leading-relaxed">Whether it's your daily lunchbox or a wedding banquet, we value your
            time.</p>
        </div>
        <!-- Feature 3 -->
        <div class="flex flex-col items-center text-center p-6 transition hover:-translate-y-2 duration-300">
          <div
            class="w-16 h-16 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center text-3xl mb-6 shadow-sm rotate-1">
            <i class="fa-solid fa-wallet"></i>
          </div>
          <h4 class="text-xl font-bold text-gray-800 mb-3">Pocket Friendly</h4>
          <p class="text-gray-500 leading-relaxed">Premium quality doesn't always have to be expensive. Plans starting @
            ₹99.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="max-w-7xl mx-auto py-20 px-4 bg-gray-800 rounded-3xl my-10 relative overflow-hidden">
    <!-- Decorative Blob -->
    <div class="absolute -top-24 -left-24 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl"></div>

    <div class="relative z-10">
      <h2 class="text-3xl md:text-4xl font-bold text-center text-white mb-14">Explore Our Services</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Service Card 1 -->
        <div
          class="bg-gray-900 rounded-2xl shadow-lg p-1 group hover:shadow-2xl transition duration-500 border border-gray-700">
          <div class="relative h-56 overflow-hidden rounded-xl">
            <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=800"
              class="w-full h-full object-cover transition duration-700 group-hover:scale-110">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            <div class="absolute bottom-4 left-4 text-white">
              <span class="bg-emerald-600 text-xs font-bold px-2 py-1 rounded mb-2 inline-block">MOST POPULAR</span>
              <h3 class="text-2xl font-bold">Daily Mess</h3>
            </div>
          </div>
          <div class="p-6">
            <p class="text-gray-400 mb-6 text-sm line-clamp-2">Healthy, home-style meals delivered to your hostel or
              room. Breakfast, Lunch & Dinner plans.</p>
            <a href="order.html"
              class="block w-full text-center border-2 border-emerald-600 text-emerald-500 font-bold py-3 rounded-lg hover:bg-emerald-600 hover:text-white transition uppercase tracking-wide text-sm">
              View Menu
            </a>
          </div>
        </div>

        <!-- Service Card 2 -->
        <div
          class="bg-gray-900 rounded-2xl shadow-lg p-1 group hover:shadow-2xl transition duration-500 border border-gray-700">
          <div class="relative h-56 overflow-hidden rounded-xl">
            <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=800"
              class="w-full h-full object-cover transition duration-700 group-hover:scale-110">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            <div class="absolute bottom-4 left-4 text-white">
              <h3 class="text-2xl font-bold">Corporate Catering</h3>
            </div>
          </div>
          <div class="p-6">
            <p class="text-gray-400 mb-6 text-sm line-clamp-2">Bulk food solutions for offices and events. Snacks, Tea,
              and Executive Lunches.</p>
            <a href="order.html"
              class="block w-full text-center border-2 border-gray-700 text-gray-300 font-bold py-3 rounded-lg hover:border-emerald-500 hover:text-emerald-400 transition uppercase tracking-wide text-sm">
              Get Quote
            </a>
          </div>
        </div>

        <!-- Service Card 3 -->
        <div
          class="bg-gray-900 rounded-2xl shadow-lg p-1 group hover:shadow-2xl transition duration-500 border border-gray-700">
          <div class="relative h-56 overflow-hidden rounded-xl">
            <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?q=80&w=800"
              class="w-full h-full object-cover transition duration-700 group-hover:scale-110">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
            <div class="absolute bottom-4 left-4 text-white">
              <h3 class="text-2xl font-bold">Party Halls</h3>
            </div>
          </div>
          <div class="p-6">
            <p class="text-gray-400 mb-6 text-sm line-clamp-2">Book premium banquet halls for Weddings, Birthdays, and
              Receptions.</p>
            <a href="halls.html"
              class="block w-full text-center border-2 border-gray-700 text-gray-300 font-bold py-3 rounded-lg hover:border-emerald-500 hover:text-emerald-400 transition uppercase tracking-wide text-sm">
              Book Hall
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Locations Section -->
  <section class="max-w-6xl mx-auto py-16 px-4">
    <div class="flex justify-between items-end mb-10">
      <div>
        <h2 class="text-3xl font-bold text-gray-800">Popular Cities</h2>
        <p class="text-gray-500 mt-2">Find us in your neighborhood</p>
      </div>
      <a href="#" class="text-amber-700 font-bold hover:underline hidden md:block">View all cities <i
          class="fa-solid fa-arrow-right ml-1"></i></a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      <!-- City Card -->
      <!-- City Card -->
      <a href="#"
        onclick="selectCity('Chennai'); document.querySelector('.hero-bg').scrollIntoView({behavior:'smooth'})"
        class="group relative h-64 rounded-2xl overflow-hidden cursor-pointer shadow-lg">
        <img src="https://images.unsplash.com/photo-1582510003544-5243788c942e?q=80&w=800"
          class="w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:rotate-1">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-0 left-0 w-full p-6">
          <h3 class="text-white text-xl font-bold group-hover:text-amber-300 transition">Chennai</h3>
          <p class="text-gray-300 text-xs">50+ Locations</p>
        </div>
      </a>

      <!-- City Card -->
      <a href="#"
        onclick="selectCity('Madurai'); document.querySelector('.hero-bg').scrollIntoView({behavior:'smooth'})"
        class="group relative h-64 rounded-2xl overflow-hidden cursor-pointer shadow-lg mt-0 md:mt-8">
        <img src="https://images.unsplash.com/photo-1578564969153-06ac3f2935bc?q=80&w=800"
          class="w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:rotate-1">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-0 left-0 w-full p-6">
          <h3 class="text-white text-xl font-bold group-hover:text-amber-300 transition">Madurai</h3>
          <p class="text-gray-300 text-xs">35+ Locations</p>
        </div>
      </a>

      <!-- City Card -->
      <a href="#"
        onclick="selectCity('Coimbatore'); document.querySelector('.hero-bg').scrollIntoView({behavior:'smooth'})"
        class="group relative h-64 rounded-2xl overflow-hidden cursor-pointer shadow-lg">
        <img src="https://images.unsplash.com/photo-1621243912629-28f58b0907a2?q=80&w=800"
          class="w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:rotate-1">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-0 left-0 w-full p-6">
          <h3 class="text-white text-xl font-bold group-hover:text-amber-300 transition">Coimbatore</h3>
          <p class="text-gray-300 text-xs">20+ Locations</p>
        </div>
      </a>

      <!-- City Card -->
      <a href="#" onclick="selectCity('Salem'); document.querySelector('.hero-bg').scrollIntoView({behavior:'smooth'})"
        class="group relative h-64 rounded-2xl overflow-hidden cursor-pointer shadow-lg mt-0 md:mt-8">
        <img src="https://images.unsplash.com/photo-1590449557762-b9d9c2273185?q=80&w=800"
          class="w-full h-full object-cover transition duration-700 group-hover:scale-110 group-hover:rotate-1">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-0 left-0 w-full p-6">
          <h3 class="text-white text-xl font-bold group-hover:text-amber-300 transition">Salem</h3>
          <p class="text-gray-300 text-xs">15+ Locations</p>
        </div>
      </a>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-box">
        <h3>Foodie Zone</h3>

        <p>One stop for Food, Halls, and Catering.</p>
      </div>
      <div class="footer-box">
        <h4>Quick Links</h4>
        <a href="index.html">Home</a><br>
        <a href="order.html">Order</a><br>
        <a href="halls.html">Party Halls</a>
      </div>
      <div class="footer-box">
        <h4>Contact</h4>
        <p>Email: support@arusuvai.com</p>
        <p>Location: Tamil Nadu</p>
      </div>
      <div class="footer-bottom">
        © 2026 Foodie Zone. All rights reserved. | <a href="admin-login.html" class="hover:text-emerald-500">Admin
          Login</a>

      </div>
  </footer>

  <script src="./assets/js/common.js"></script>
  <script>
    // -- SEARCH & LOCATION LOGIC --
    const locationInput = document.getElementById('locationInput');
    const locationDropdown = document.getElementById('locationDropdown');
    const locationArrow = document.getElementById('locationArrow');
    const locationBox = document.getElementById('locationBox');

    // Handle Location Box Click
    if (locationBox) {
      locationBox.addEventListener('click', (e) => {
        e.stopPropagation(); // Stop bubbling
        // If user clicks the input, keep it open (focus handles opening, this prevents toggling off)
        if (e.target === locationInput) {
          toggleLocationDropdown(true);
        } else {
          // Toggle for icon or container clicks
          toggleLocationDropdown();
        }
      });
    }

    // Add explicit listener for input to handle focus/click robustly
    if (locationInput) {
      locationInput.addEventListener('click', (e) => {
        e.stopPropagation();
        locationInput.removeAttribute('readonly');
        toggleLocationDropdown(true);
      });
      locationInput.addEventListener('focus', () => {
        locationInput.removeAttribute('readonly');
        toggleLocationDropdown(true);
      });
    }

    // Toggle Dropdown
    function toggleLocationDropdown(forceShow = null) {
      if (locationDropdown) {
        if (forceShow === true) {
          locationDropdown.classList.remove('hidden');
          if (locationArrow) locationArrow.classList.add('rotate-180');
        } else if (forceShow === false) {
          locationDropdown.classList.add('hidden');
          if (locationArrow) locationArrow.classList.remove('rotate-180');
        } else {
          locationDropdown.classList.toggle('hidden');
          if (locationArrow) locationArrow.classList.toggle('rotate-180');
        }
      }
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function (e) {
      const container = document.querySelector('.group'); // The location container
      if (container && !container.contains(e.target) && locationDropdown && !locationDropdown.classList.contains('hidden')) {
        toggleLocationDropdown(false);
      }
    });

    function selectCity(city) {
      if (locationInput) locationInput.value = city;
      toggleLocationDropdown(false);
    }

    function findServices() {
      const loc = document.getElementById('locationInput').value;
      if (loc && loc.trim() !== "") {
        // Show loading state
        const btnDesktop = document.getElementById('searchBtnDesktop');
        const btnMobile = document.getElementById('searchBtnMobile');

        // Update Desktop Button
        if (btnDesktop) {
          btnDesktop.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Searching...';
          btnDesktop.classList.add('opacity-75', 'cursor-not-allowed');
          btnDesktop.disabled = true;
        }

        // Update Mobile Button
        if (btnMobile) {
          btnMobile.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin mr-2"></i>Searching...';
          btnMobile.classList.add('opacity-75', 'cursor-not-allowed');
          btnMobile.disabled = true;
        }

        // Simulate network delay (1.5 seconds)
        setTimeout(() => {
          window.location.href = "search.html?q=" + encodeURIComponent(loc);
        }, 1500);
      } else {
        showToast("Please select your delivery location", 'info');
        toggleLocationDropdown(true);
        if (locationInput) locationInput.focus();
      }
    }

    function detectLocation() {
      if (navigator.geolocation) {
        if (locationInput) {
          locationInput.value = "Detecting location...";
          locationInput.classList.add('animate-pulse');
        }

        navigator.geolocation.getCurrentPosition(
          (position) => {
            // Using a free reverse geocoding API (OpenStreetMap Nominatim) for realism
            const { latitude, longitude } = position.coords;
            const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`;

            fetch(url)
              .then(response => response.json())
              .then(data => {
                if (locationInput) locationInput.classList.remove('animate-pulse');
                const city = data.address.city || data.address.town || data.address.village || 'Chennai';
                const area = data.address.suburb || data.address.neighbourhood || '';

                // Format: Area, City
                const formatted = area ? `${area}, ${city}` : city;
                if (locationInput) locationInput.value = formatted;
                showToast(`Location detected: ${formatted}`, 'success');
                toggleLocationDropdown(false);
              })
              .catch(err => {
                console.error(err);
                if (locationInput) {
                  locationInput.classList.remove('animate-pulse');
                  locationInput.value = 'Chennai'; // Fallback
                }
                showToast("Location detected: Chennai (Simulated)", 'success');
                toggleLocationDropdown(false);
              });
          },
          (error) => {
            if (locationInput) {
              locationInput.classList.remove('animate-pulse');
              locationInput.value = '';
            }
            showToast("Unable to retrieve your location", 'error');
          }
        );
      } else {
        showToast("Geolocation is not supported by your browser", 'error');
      }
    }
  </script>

  <script src="./assets/js/toast.js"></script>
  <script>
    // Dark Mode Logic
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateThemeIcon(isDark);
    }

    function updateThemeIcon(isDark) {
      const icon = document.getElementById('themeIcon');
      if (!icon) return;
      if (isDark) {
        icon.classList.remove('fa-moon', 'text-emerald-500');
        icon.classList.add('fa-sun', 'text-yellow-400');
      } else {
        icon.classList.remove('fa-sun', 'text-yellow-400');
        icon.classList.add('fa-moon', 'text-emerald-500');
      }
    }

    // Init Theme
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      updateThemeIcon(true);
    }

    // Override alert with toast
    window.alert = function (msg) { showToast(msg, msg.includes('success') || msg.includes('Success') ? 'success' : 'info'); };
  </script>
</body>

</html>